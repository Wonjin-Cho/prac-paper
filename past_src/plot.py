


layers = {
    "layer 1.1": [509, 170, 999, 608, 648, 742],
    "layer 1.2": [424, 689, 509, 77, 238, 246, 451, 454, 574, 692, 735, 664, 58, 608, 469],
    "layer 2.1": [230, 238, 58, 549, 256, 622, 37, 42, 170, 239, 329, 348, 414, 442, 443, 451, 542, 977, 434, 710, 77, 189, 338, 372, 377, 460, 492, 516, 591, 718, 767, 787, 809, 933, 958, 962, 997, 999, 49, 175, 934, 6, 213, 214, 345, 346, 474, 552, 563, 603, 616, 619, 650, 690, 693, 725, 768, 838, 880, 881, 981, 567, 373, 644, 662, 775, 976],
    "layer 2.2": [58, 469, 451, 492, 542, 73, 89, 266, 591, 593, 693, 702, 718, 875, 202, 654, 960, 477, 596, 662, 17, 50, 62, 79, 86, 200, 216, 401, 488, 583, 624, 692, 703, 764, 772, 838, 999, 456, 608, 708, 861],
    "layer 2.3": [456, 556, 498, 58, 313, 591, 718, 861, 64, 79, 62, 155, 526, 689, 690, 774, 875, 662, 67, 72, 83, 101, 238, 307, 369, 389, 442, 549, 599, 624, 699, 706, 721, 744, 765, 810, 906, 582, 752, 54, 469, 503, 596, 601, 622, 691],
    "layer 3.1": [492, 58, 54, 236, 241, 442, 636, 689, 690, 758, 792, 930, 49, 411, 507, 862, 110, 126, 182, 208, 329, 443, 619, 704, 735, 778, 881, 313, 285],
    "layer 3.2": [654, 492, 583, 419, 285, 189, 202, 235, 546, 718, 744, 436, 834, 976],
    "layer 3.3": [58, 110, 233, 456, 742, 232, 395, 489, 655, 906, 359],
    "layer 3.4": [58, 110, 241, 266, 556, 742, 202, 542, 980, 622],
    "layer 3.5": [833, 452, 54, 58, 67, 218, 232, 765, 473, 503, 22, 110, 165, 182, 246, 457, 498, 670, 680, 699, 731, 878, 593, 875, 596, 710, 729, 976],
    "layer 4.1": [654, 569, 542, 559, 707, 846, 498, 516, 241, 665, 93, 330, 424, 544, 606, 778, 914, 101, 250, 442, 472, 483, 583, 704, 810, 935, 429, 67, 165, 183, 598, 675, 740, 819, 906, 964, 967, 999, 159, 359, 593, 110, 132, 199, 218, 278, 374, 670, 687, 690, 759, 792, 801, 907, 932, 933, 941, 511, 705, 729, 42, 198, 311, 345, 378, 389, 404, 431, 441, 443, 450, 492, 505, 526, 584, 591, 758, 774, 978, 65, 202, 543, 622, 830, 48, 66, 125, 140, 200, 223, 227, 231, 237, 316, 395, 399, 400, 411, 418, 451, 460, 514, 536, 674, 680, 688, 699, 700, 765, 804, 833, 841, 890, 917, 918, 939, 997, 46, 436, 494, 582, 708, 777, 902, 926, 966, 54, 469, 477, 556, 648, 662, 691, 790, 639],
    "layer 4.2": [715, 967, 965, 690, 768, 359, 5, 266, 700, 861, 934, 966, 357, 593, 62, 424, 101, 194, 511, 544, 667, 699, 106, 121, 122, 264, 394, 542, 691, 216, 378, 395, 442, 554, 789, 798, 833, 929, 960, 4, 64, 210, 450, 940, 238, 823, 959, 202, 223, 429, 430, 731, 891, 941, 601, 775, 118, 452, 555, 686, 702, 752, 838, 902, 964, 63, 486, 570, 742, 22, 72, 111, 165, 186, 303, 379, 515, 653, 680, 681, 707, 735, 792, 881, 932, 935, 804, 206, 432, 435, 513, 211, 278, 335, 498, 567, 588, 598, 670, 674, 687, 793, 808, 812, 813, 890, 924, 949, 951, 963, 980, 256, 433, 575, 630, 714, 54, 639, 29, 109, 208, 246, 257, 301, 403, 455, 491, 494, 514, 534, 566, 573, 602, 678, 704, 728, 736, 740, 756, 820, 860, 862, 869, 912, 918, 942, 957, 969, 999, 43, 451, 521, 596, 93, 147, 175, 197, 245, 410, 413, 419, 439, 456, 502, 560, 568, 571, 583, 591, 624, 629, 683, 697, 708, 765, 778, 810, 852, 914, 933, 948, 590, 987, 110, 329, 411, 654, 682, 897, 982, 817, 898, 19, 23, 34, 67, 79, 103, 114, 200, 218, 233, 282, 316, 327, 349, 374, 391, 510, 516, 550, 552, 558, 615, 626, 642, 722, 757, 759, 760, 801, 802, 821, 859, 882, 910, 922, 943, 945, 953, 954, 962, 78, 447, 622, 790, 976, 68, 89, 91, 112, 150, 170, 171, 174, 179, 215, 270, 313, 325, 330, 420, 445, 462, 465, 488, 499, 545, 594, 604, 633, 650, 655, 658, 676, 694, 719, 734, 753, 758, 766, 839, 840, 873, 930, 956, 993, 402, 675, 126, 249, 489, 788, 894, 490, 543, 578, 665, 834, 2, 44, 50, 59, 73, 132, 137, 141, 143, 190, 201, 220, 228, 242, 252, 291, 306, 320, 322, 341, 346, 350, 393, 399, 401, 405, 422, 438, 446, 457, 472, 480, 500, 512, 540, 546, 551, 557, 559, 561, 574, 584, 640, 684, 688, 716, 739, 746, 747, 755, 772, 796, 811, 822, 826, 828, 841, 845, 858, 880, 936, 955, 961, 994, 481, 556, 648, 705, 729, 851, 13, 21, 32, 42, 49, 53, 75, 76, 77, 94, 128, 146, 158, 181, 209, 230, 255, 267, 314, 317, 318, 342, 364, 372, 392, 404, 464, 478, 484, 496, 569, 599, 605, 611, 612, 627, 646, 651, 668, 709, 745, 764, 816, 832, 835, 847, 853, 870, 889, 899, 915, 944, 977, 990, 992, 996, 664, 978, 204, 373, 730, 749, 285, 302, 677, 710, 830, 842]
}

from upsetplot import from_contents, plot
import matplotlib.pyplot as plt

upset_data = from_contents(layers)
plot(upset_data, orientation='horizontal', sort_by='cardinality')
plt.title("UpSet Plot of Problematic Classes")
plt.show()